<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Materials Marketplace — Compare</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Space Grotesk',sans-serif;background:#fafaf8;color:#1a1a1a}
a{text-decoration:none;color:inherit}
.top-nav{display:flex;align-items:center;justify-content:space-between;padding:0 48px;height:56px;background:#fff;border-bottom:1px solid #e8e8e6;position:sticky;top:0;z-index:100}
.top-nav .logo{font-size:15px;font-weight:600;letter-spacing:-.5px}
.top-nav .logo span{color:#999}
.top-nav nav{display:flex;gap:32px}
.top-nav nav a{font-size:13px;color:#888;transition:color .15s}
.top-nav nav a:hover,.top-nav nav a.active{color:#1a1a1a}
.top-nav .nav-right{display:flex;align-items:center;gap:20px}
.top-nav .nav-right a{font-size:13px;color:#888}
.mono{font-family:'IBM Plex Mono',monospace}
.page-wrap{max-width:1100px;margin:0 auto;padding:48px 24px}
.page-wrap h1{font-size:22px;font-weight:500;margin-bottom:4px}
.page-wrap .sub{font-size:12px;color:#999;margin-bottom:32px}

.compare-table{width:100%;border-collapse:collapse;background:#fff;border:1px solid #e8e8e6;border-radius:8px;overflow:hidden}
.compare-table th{padding:0}
.compare-table .swatch-cell{height:100px;position:relative}
.compare-table .swatch-cell .remove{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.5);color:#fff;border:none;border-radius:50%;width:22px;height:22px;font-size:11px;cursor:pointer}
.compare-table .name-cell{padding:12px 16px;font-size:14px;font-weight:500;border-bottom:1px solid #e8e8e6}
.compare-table .brand-cell{padding:4px 16px 12px;font-size:11px;color:#999;border-bottom:2px solid #1a1a1a}
.compare-table .prop-label{padding:10px 16px;font-size:10px;text-transform:uppercase;letter-spacing:1px;color:#999;background:#fafaf8;border-bottom:1px solid #f0f0ee;width:160px}
.compare-table .prop-val{padding:10px 16px;font-size:12px;border-bottom:1px solid #f0f0ee;text-align:center}
.compare-table .prop-val.best{font-weight:600;color:#1a1a1a}
.compare-table .prop-val .bar{height:6px;background:#f0f0ee;border-radius:3px;margin-top:4px}
.compare-table .prop-val .bar-fill{height:100%;background:#1a1a1a;border-radius:3px}
.btn-primary{padding:10px 24px;background:#1a1a1a;color:#fff;border:none;border-radius:6px;font-size:12px;font-family:inherit;cursor:pointer;margin-top:20px}
.btn-primary:hover{background:#333}
</style>
</head>
<body>
<header class="top-nav">
  <a href="/10-home" class="logo">materia<span>.io</span></a>
  <nav>
    <a href="/10-materials">Materials</a>
    <a href="/10-compare" class="active">Compare</a>
    <a href="/10-cart">Quotes</a>
    <a href="/10-account">Account</a>
  </nav>
  <div class="nav-right"><a href="/10-favorites">♡</a><a href="/10-login">Sign in</a></div>
</header>
<div class="page-wrap">
  <h1>Compare Materials</h1>
  <p class="sub mono">Side-by-side specification comparison</p>
  <table class="compare-table" id="ctable"></table>
  <button class="btn-primary" onclick="window.location='/10-materials'">+ Add Material</button>
</div>
<script src="/data.js"></script>
<script>
const picks = [materials[0], materials[2], materials[4], materials[8]];
const maxCo2 = Math.max(...picks.map(p=>p.co2));
const maxPrice = Math.max(...picks.map(p=>p.price));
const props = [
  ['Type','type'],['Finish','finish'],['Fire Class','fire'],['Use','use'],
  ['CO₂ (kg/m²)','co2'],['Price (€/m²)','price'],['Lead Time','leadDays'],['Certifications','cert']
];
function bestVal(key){
  if(key==='co2')return Math.min(...picks.map(p=>p.co2));
  if(key==='price')return Math.min(...picks.map(p=>p.price));
  if(key==='leadDays')return Math.min(...picks.map(p=>p.leadDays));
  return null;
}
const t=document.getElementById('ctable');
let html='<tr><th class="prop-label"></th>';
picks.forEach(m=>{html+=`<th><div class="swatch-cell" style="background:${m.color}"><button class="remove">×</button></div></th>`});
html+='</tr><tr><td class="prop-label"></td>';
picks.forEach(m=>{html+=`<td class="name-cell">${m.name}</td>`});
html+='</tr><tr><td class="prop-label"></td>';
picks.forEach(m=>{html+=`<td class="brand-cell">${m.brand}</td>`});
html+='</tr>';
props.forEach(([label,key])=>{
  html+=`<tr><td class="prop-label mono">${label}</td>`;
  const bv=bestVal(key);
  picks.forEach(m=>{
    let val=m[key];
    let cls='';
    if(Array.isArray(val))val=val.join(', ');
    if(key==='leadDays')val=val+'d';
    if(key==='price')val='€'+val;
    if(key==='co2'&&m.co2===bv)cls=' best';
    if(key==='price'&&m.price===bv)cls=' best';
    if(key==='leadDays'&&m.leadDays===bv)cls=' best';
    let bar='';
    if(key==='co2')bar=`<div class="bar"><div class="bar-fill" style="width:${(m.co2/maxCo2)*100}%"></div></div>`;
    if(key==='price')bar=`<div class="bar"><div class="bar-fill" style="width:${(m.price/maxPrice)*100}%"></div></div>`;
    html+=`<td class="prop-val${cls}">${val}${bar}</td>`;
  });
  html+='</tr>';
});
t.innerHTML=html;
</script>
</body>
</html>
